@model List<AdminHalloDoc.Entities.ViewModel.AdminViewModel.ViewDashboardList>
@using static AdminHalloDoc.Entities.ViewModel.Constant
@{
    Dictionary<int, List<string>> statusTdHtmlMap = new Dictionary<int, List<string>>
    {
        { 1, new List<string> { "<div>Value1</div>", "<div>Value2</div>", "<div>Value3</div>", "<div>Value4</div>", "<div>Value5</div>" } }, // Values for status 1
        { 2, new List<string> { "<div>Value1</div>", "<div>Value2</div>", "<div>Value3</div>" } }, // Values for status 2
        // Add more mappings as needed
    };
}
<div class="justify-content-between d-flex my-3">
    <div class="heading ">
        <h3 class="mb-0 pb-0 top-heading">Patient</h3>  <span class="align-bottom  top-side-heading d-flex flex-column justify-content-end pb-1 px-2 text-primary-emphasis fw-bolder"> (Close)</span>
    </div>
    <din>
        <div class="btn btn-info text-white" data-bs-toggle="modal" data-bs-target="#sendlink">
            <i class="bi bi-send"></i>
            <span class="top-btn">
                send link
            </span>
        </div>
        <div class="btn btn-info text-white">
            <i class="bi bi-file-earmark-break"></i>
            <span class="top-btn">
                Create Request
            </span>

        </div>
        <div class="btn btn-info text-white">
            <i class="bi bi-forward"></i>
            <span class="top-btn">
                export
            </span>

        </div>
        <div class="btn btn-info text-white">
            <i class="bi bi-forward-fill"></i>
            <span class="top-btn">
                export all
            </span>

        </div>
        <div class="btn btn-info text-white">
            <i class="bi bi-person-square"></i>
            <span class="top-btn">
                Request DTY Support
            </span>

        </div>
    </din>
</div>
<div class="card border-0 shadow py-2 my-3">
    <div class="d-flex justify-content-between m-2 table-menu">
        <div class="starting-bar d-flex">
            <div class="row">
                <div class="col-md-6">
                    <form class="form-inline my-2 my-lg-0">
                        <input class="form-control mr-sm-2 w-100" id="myInput" onkeyup="myFunctiona()" type="text" placeholder="Search" aria-label="Search">
                    </form>
                </div>
                <div class="col-md-6 ">
                    <div class="dropdown ">
                      
                        <select class="form-select form-select-sm " data-allow-clear="true" tabindex="-1" id="Region" onchange="myFunction()" asp-items="@(new SelectList(ViewBag.RegionComboBox,"RegionId","RegionName"))" data-control="select2" data-placeholder="Select Level">
                            <option>All Region</option>
                        </select>
                    </div>
                </div>
            </div>


        </div>
        <div class="ending-bar d-flex text-center">
            <div class="top-tollbar">
                <button type="button" class="btn btn-light mx-1 border border-1 text-light-emphasis mx-3 f-tollbar all" onclick="filterSelection('all')">All</button>
            </div>

            <div class="top-tollbar">
                <div class="p-success">
                </div>
                <div type="button" class="btn btn- f-tollbar p-0" onclick="filterSelection('bg-2')">Patient</div>
            </div>
            <div class="top-tollbar">
                <div class=" p-warning ">
                </div>
                <button type="button" class="btn btn- f-tollbar p-0" onclick="filterSelection('bg-3')">Family/Friend</button>
            </div>
            <div class="top-tollbar">
                <div class=" p-primary">
                </div>
                <button type="button" class="btn btn- f-tollbar" onclick="filterSelection('bg-1')">Business</button>
            </div>
            <div class="top-tollbar">
                <div class=" p-info">
                </div>
                <button type="button" class="btn btn- f-tollbar" onclick="filterSelection('bg-4')">Concierge</button>
            </div>

        </div>
    </div>
    <div class="table-responsive">
        <div class="accordion accordion-flush" id="accordionFlushExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingOne">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                        <div class="d-flex justify-content-between">
                            <div>
                                <div class="pb-3">
                                  Testp Tesp
                                </div>
                                <div>
                                    123, baltime , mayloan 2802
                                </div>
                            </div>
                            <div>
                                <div class="pb-2">
                                    Patient  <div class="p-success">
                                    </div>
                                </div>
                                <div class="btn btn-outline-info rounded-4 p-1 fs-6 px-2">
                                    map location
                                </div>
                            </div>
                        </div>
                    </button>
                </h2>
                <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        <div class="d-flex align-items-center py-0 position-relative">
                            <div class="border border-1 border-info d-flex rounded-5 ro">
                                <i class="bi bi-calendar3 p-2 py-1  fa-sm"></i>
                            </div>
                            <div class="px-2 ">
                                <span class="text-start text-light-emphasis"> Date Of birth:  </span>
                                <span class="text-end text-dark"> Jun 28, 1991(33)  </span>
                            </div>
                            <div class="btn btn-light rounded-4 p-1 fs-6 px-3 my-2 position-absolute top-0  end-0">
                                View Case
                            </div>
                        </div>
                        <div class="d-flex align-items-center py-0">
                            <div class="border border-1 border-info d-flex rounded-5 mb-1 ">
                                <i class="bi bi-envelope p-2 py-1 fa-sm"></i>
                            </div>
                            <div class="px-2 ">
                                <span class="text-start text-light-emphasis">Email :  </span>
                                <span class="text-end text-dark">shreyans Padmani  </span>
                            </div>
                        </div>
                        <div class="d-flex align-items-center py-0">
                            <div class="border border-1 border-info d-flex rounded-5  mb-1">
                                <i class="bi bi-telephone p-2 py-1  fa-sm"></i>
                            </div>
                            <div class="px-2 ">
                                <span class="text-start text-light-emphasis"> patient:  </span>
                                <span class="text-end text-dark"> +1 3263 526 </span>
                            </div>
                        </div>
                        <div class="d-flex align-items-center pb-1">
                            <div class="border border-1 border-info d-flex rounded-5  mb-1">
                                <i class="bi bi-person p-2 py-1  fa-sm"></i>
                            </div>
                            <div class="px-2 ">
                                <span class="text-start text-light-emphasis"> Requestor:  </span>
                                <span class="text-end text-dark"> shreyans padmani </span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <div class="btn btn-info rounded-4 p-1 fs-6 px-5 my-2">
                                    Assign Case
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="btn btn-danger rounded-4 p-1 fs-6  px-5 my-2">
                                    cancel case
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="btn btn-info rounded-4 p-1 fs-6  px-5 my-2">
                                    view Notes
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="btn btn-danger rounded-4 p-1 fs-6 px-5  my-2">
                                    block patient
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="btn btn-success rounded-4 p-1 fs-6 px-5 my-2">
                                    email
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwo">
                    <button class="accordion-button collapsed"  type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                        Accordion Item #2
                    </button>
                </h2>
                <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the second item's accordion body. Let's imagine this being filled with some actual content.</div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                        Accordion Item #3
                    </button>
                </h2>
                <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application.</div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingThreea">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThreea" aria-expanded="false" aria-controls="flush-collapseThreea">
                        Accordion Item #3
                    </button>
                </h2>
                <div id="flush-collapseThreea" class="accordion-collapse collapse" aria-labelledby="flush-headingThreea" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application.</div>
                </div>
            </div>
        </div>
        <table class="table table-responsive" id="table">
            <thead class="fw-lighter">
                <tr>
                    @{
                        List<string> tdHtmlValues = statusTdHtmlMap.ContainsKey(Model[0].Status) ? statusTdHtmlMap[Model[0].Status] : new List<string>();
                    }
                    @foreach (var htmlValue in tdHtmlValues)
                    {
                        <th scope="col">@Html.Raw(htmlValue)</th>
                    }
                    <th scope="col">Name</th>
                    <th scope="col">Date</th>
                    <th scope="col">Rqequestor</th>
                    <th scope="col">Request Date</th>
                    <th scope="col">Phone</th>
                    <th scope="col">Address</th>
                    <th scope="col">Notes</th>
                    <th scope="col">Chat With</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr class="bg-@item.RequestTypeID  filterDiv @item.RegionID">
                        <td scope="col">
                            <div class="text-end d-flex justify-content-between">
                                <div class="text-start d-grid">
                                    @item.PatientName
                                </div> <div class="text-end verti border border-1 p-1 text-end rounded-1 py-0 btn text-white">
                                    <i class="bi bi-envelope"></i>
                                </div>
                            </div>
                        </td>
                        <td scope="col">Jun, 16, 2003</td>
                        <td scope="col">@item.Requestor</td>
                        <td scope="col">@item.Dob</td>
                        <td scope="col">
                            <div class="border border-1 p-1 rounded-2 text-center w-75 py-1"><i class="bi bi-telephone"></i> @item.PhoneNumber </div>
                            <span>
                                (Patient)
                            </span>
                            @{
                                if (item.RequestTypeID != 2)
                                {
                                    <div class="border border-1 p-1 rounded-2 text-center w-75 py-1"><i class="bi bi-telephone"></i> @item.RequestorPhoneNumber </div>
                                    <span>
                                        @Enum.GetName(typeof(RequestType), item.RequestTypeID)
                                    </span>
                                }
                            }
                        </td>
                        <td scope="col">@item.Address</td>
                        <td scope="col">@item.Notes </td>
                        <td scope="col"> <div class="border border-1 p-1 rounded-2 text-center w-75 py-1"><i class="bi bi-person-workspace"></i> Provider </div></td>
                       
                        
                        <td scope="col">
                            <div class="dropdown ">
                                <button class="btn border border-1 p-2 rounded-2 text-center w-75 py-1 text-white dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    Actions
                                </button>
                                <ul class="dropdown-menu ">
                                    <li><a class="dropdown-item text-dark-emphasis" asp-action="Viewcase" asp-route-id="@item.RequestClientid" asp-controller="AdminDashboard"><i class="bi bi-journal-minus px-2"></i> View Case</a></li>
                                    <li><a class="dropdown-item text-dark-emphasis" asp-route-id="@item.Requestid" asp-action="ViewUpload" asp-controller="AdminDashboard"><i class="px-2 bi bi-journal-plus"></i>View Upload </a></li>
                                    <li><a class="dropdown-item text-dark-emphasis" data-bs-toggle="modal" data-bs-target="#Cancelcase" data-bs-requestid="@item.Requestid" data-bs-patientname="@item.PatientName" asp-action="" asp-controller=""><i class="px-2 bi bi-journal-plus"></i>Cance lcase </a></li>
                                    <li><a class="dropdown-item text-dark-emphasis" data-bs-toggle="modal" data-bs-target="#Transfercase" data-bs-providerId="@item.ProviderID" data-bs-requestid="@item.Requestid" data-bs-patientname="@item.PatientName" asp-action="" asp-controller=""><i class="px-2 bi bi-journal-plus"></i>Trans to physician </a></li>
                                    <li><a class="dropdown-item text-dark-emphasis" asp-action="ViewNotes" asp-route-id="@item.Requestid" asp-controller="AdminDashboard"><i class="px-2 bi bi-journal-medical"></i>View notes</a></li>
                                    <li><a class="dropdown-item text-dark-emphasis" asp-action="" asp-controller=""><i class="px-2 bi bi-journal-album"></i>Orders</a></li>
                                    <li><a class="dropdown-item text-dark-emphasis" asp-action="" asp-controller=""><i class="px-2 bi bi-journal"></i>Documnet notes</a></li>
                                    <li><a class="dropdown-item text-dark-emphasis" asp-action="" asp-controller=""><i class="px-2 bi bi-journals"></i>Encounter</a></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
<partial name="../ViewAction/_allPartialAction.cshtml" />

<script>

    function myFunctiona() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("table");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
            //if (tr[i].style.display != "none") {

            
                td = tr[i].getElementsByTagName("td")[0];
                if (td  ) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
           // }
        }
    }
</script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js">
</script>
<script>
    function myFunction() {
        var x = document.getElementById("Region").value;
        console.log(x);
        if (x != 'All Region') {
            filterSelection(x)
        }else{
            filterSelection("all")
        }
        
    }
    filterSelection("all")
    function filterSelection(c) {
        var x, i;
        x = document.getElementsByClassName("filterDiv");
        if (c == "all") c = "";
        for (i = 0; i < x.length; i++) {
            w3RemoveClass(x[i], "show");
            if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
        }
    }

    function w3AddClass(element, name) {
        var i, arr1, arr2;
        arr1 = element.className.split(" ");
        arr2 = name.split(" ");
        for (i = 0; i < arr2.length; i++) {
            if (arr1.indexOf(arr2[i]) == -1) { element.className += " " + arr2[i]; }
        }
    }

    function w3RemoveClass(element, name) {
        var i, arr1, arr2;
        arr1 = element.className.split(" ");
        arr2 = name.split(" ");
        for (i = 0; i < arr2.length; i++) {
            while (arr1.indexOf(arr2[i]) > -1) {
                arr1.splice(arr1.indexOf(arr2[i]), 1);
            }
        }
        element.className = arr1.join(" ");
    }
  $(document)
        .ready(function () {
            $('#table')
                .DataTable(
                    { 
                        searching: false
                        , info: false
                    }
                );
            $("#table_length").hide();
        });
</script>